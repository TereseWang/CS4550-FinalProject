{"ast":null,"code":"import _slicedToArray from\"/media/psf/Home/Desktop/CS4550-FinalProject/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,Nav,NavRow,Row,Col,Card,Form}from'react-bootstrap';import{connect}from'react-redux';import{useState}from'react';import{Link,useHistory,NavLink,useLocation}from'react-router-dom';import{fetch_user,fetch_single_wellness,fetch_wellness,search_wellness}from'../api';import Carousel from'react-bootstrap/Carousel';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function WellnessList(_ref){var wellness=_ref.wellness,session=_ref.session;var history=useHistory();var location=useLocation();function photo_path(hash){return\"http://kittenlover-backend.teresewang.com/photos/\"+hash;}function AddNewWellnessButton(){if(session){return/*#__PURE__*/_jsx(Redirect,{to:\"/wellness/new\",className:\"btn btn-lg font-weight-bold btn-info ml-3\",children:\"New Wellness Post\"});}else{return/*#__PURE__*/_jsx(\"br\",{});}}function ListingArticles(_ref2){var session=_ref2.session,current_wellness=_ref2.current_wellness;var rows=wellness.map(function(health){var body=health.body.substring(0,280)+\" ...\";var link=\"/wellness/view/\"+health.id;var score=health.votes.length;return/*#__PURE__*/_jsxs(Card,{fluid:true,className:\"my-4\",children:[/*#__PURE__*/_jsxs(Card.Header,{children:[score,\" \\uD83D\\uDC97\"]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\",children:health.title}),/*#__PURE__*/_jsx(\"p\",{children:body}),/*#__PURE__*/_jsx(Link,{to:link,className:\"text-danger\",children:\"Read More\"})]})]});});return/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:rows});}function Redirect(_ref3){var to=_ref3.to,children=_ref3.children;return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:to,exact:true,className:\"btn btn-lg font-weight-bold text-light btn-info\",activeClassName:\"active\",children:children})});}function ImageGallery(){var query=wellness;if(wellness.length>=5){query=Object.entries(wellness).slice(0,5).map(function(entry){return entry[1];});}var rows=query.map(function(health){var body=health.body.substring(0,280)+\" ...\";var link=\"/wellness/view/\"+health.id;return/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{src:photo_path(health.photo_hash),width:\"100%\",height:\"600px\"}),/*#__PURE__*/_jsx(Carousel.Caption,{children:/*#__PURE__*/_jsxs(Link,{to:link,className:\"text-info h3\",children:[\"Direct To Article: \",health.title]})})]});});return/*#__PURE__*/_jsx(Carousel,{className:\"my-3\",children:rows});}var UpdatingArticles=connect(function(_ref4){var session=_ref4.session,current_wellness=_ref4.current_wellness;return{session:session,current_wellness:current_wellness};})(ListingArticles);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];function update(ev){setSearch(ev.target.value);}function searchQuery(ev){ev.preventDefault();search_wellness(search);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"display-1\",children:\"Wellness\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"h4\",children:[\"Regular wellness care is of the utmost importance for any pet, but trips to the veterinarian often end up on the back burner when it comes to our cats. This pro-cats-tination could be due to a general dislike of car rides, carriers, handling without their consent, or because cats are experts at masking symptoms, hiding pain and making us believe that there is nothing wrong. Because of this, many felines don\\u2019t get the care they need until their health problems become serious. Preventing illness and disease in our feline companions is easier, healthier, and cheaper than attempting to treat a problem once it arises. You will find articles below to be helpful, and you can also make helpful posts to help others. \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"http://www.catcareofvinings.com/blog/wellness-care-for-cats/\",target:\"_blank\",children:\"Referenced from Cat Care\"})]}),/*#__PURE__*/_jsx(ImageGallery,{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(AddNewWellnessButton,{})})}),/*#__PURE__*/_jsxs(Form,{onSubmit:searchQuery,inline:true,children:[/*#__PURE__*/_jsx(Form.Group,{className:\"mt-3 ml-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Search..\",onChange:function onChange(ev){return update(ev);},value:search})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"h3 font-weight-bold mr-3 ml-1 mt-4\",children:\"Search\"})]}),/*#__PURE__*/_jsx(UpdatingArticles,{})]});}function state2props(_ref5){var wellness=_ref5.wellness,session=_ref5.session;return{wellness:wellness,session:session};}export default connect(state2props)(WellnessList);","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550-FinalProject/web/src/Wellness/List.js"],"names":["Button","Nav","NavRow","Row","Col","Card","Form","connect","useState","Link","useHistory","NavLink","useLocation","fetch_user","fetch_single_wellness","fetch_wellness","search_wellness","Carousel","WellnessList","wellness","session","history","location","photo_path","hash","AddNewWellnessButton","ListingArticles","current_wellness","rows","map","health","body","substring","link","id","score","votes","length","title","Redirect","to","children","ImageGallery","query","Object","entries","slice","entry","photo_hash","UpdatingArticles","search","setSearch","update","ev","target","value","searchQuery","preventDefault","state2props"],"mappings":"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","sourcesContent":["import { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_user, fetch_single_wellness, fetch_wellness, search_wellness } from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\n\nfunction WellnessList({wellness, session}) {\n  let history = useHistory()\n  let location = useLocation();\n\n  function photo_path(hash) {\n    return \"http://kittenlover-backend.teresewang.com/photos/\" + hash;\n  }\n\n  function AddNewWellnessButton() {\n    if (session) {\n      return(\n        <Redirect to=\"/wellness/new\" className=\"btn btn-lg font-weight-bold btn-info ml-3\">\n          New Wellness Post\n        </Redirect>\n      )\n    }\n    else {\n      return(\n        <br></br>\n      )\n    }\n  }\n\n  function ListingArticles({session, current_wellness}) {\n    let rows = wellness.map((health) => {\n      let body = health.body.substring(0, 280) + \" ...\"\n      const link = \"/wellness/view/\"+ health.id\n      let score = health.votes.length\n      return (\n        <Card fluid className=\"my-4\">\n          <Card.Header>{score} 💗</Card.Header>\n          <Card.Body>\n            <h1 className=\"\">{health.title}</h1>\n            <p>{body}</p>\n            <Link to={link}  className=\"text-danger\">Read More</Link>\n          </Card.Body>\n        </Card>\n    )});\n\n    return(\n      <div className=\"ml-3\">\n        {rows}\n      </div>\n    )\n  }\n\n  function Redirect({to, children}) {\n    return (\n      <Nav.Item>\n        <NavLink to={to} exact\n          className=\"btn btn-lg font-weight-bold text-light btn-info\"\n          activeClassName=\"active\">\n          {children}\n        </NavLink>\n      </Nav.Item>\n    );\n  }\n\n  function ImageGallery() {\n    let query = wellness\n    if (wellness.length >= 5) {\n      query = Object.entries(wellness).slice(0,5).map(entry => entry[1]);\n    }\n    let rows = query.map((health) => {\n      let body = health.body.substring(0, 280) + \" ...\"\n      let link = \"/wellness/view/\" + health.id;\n      return (\n        <Carousel.Item>\n          <img src={photo_path(health.photo_hash)} width=\"100%\" height=\"600px\"></img>\n          <Carousel.Caption>\n            <Link to={link}  className=\"text-info h3\">Direct To Article: {health.title}</Link>\n          </Carousel.Caption>\n        </Carousel.Item>\n    )});\n    return(\n      <Carousel className=\"my-3\">\n        {rows}\n      </Carousel>\n    )\n  }\n\n  const UpdatingArticles = connect(\n      ({session, current_wellness}) => ({session, current_wellness}))(ListingArticles);\n\n\n  const [search, setSearch] = useState(\"\");\n\n  function update(ev) {\n    setSearch(ev.target.value);\n  }\n\n  function searchQuery(ev){\n    ev.preventDefault();\n    search_wellness(search);\n  }\n\n  return (\n    <div>\n      <p className=\"display-1\">Wellness</p>\n      <p className=\"h4\">Regular wellness care is of the utmost importance for any pet,\n      but trips to the veterinarian often end up on the back burner when\n      it comes to our cats. This pro-cats-tination could be due to a general\n      dislike of car rides, carriers, handling without their consent,\n      or because cats are experts at masking symptoms,\n      hiding pain and making us believe that there is nothing wrong.\n      Because of this, many felines don’t get the care they need until their\n      health problems become serious.\n      Preventing illness and disease in our feline companions is easier,\n      healthier, and cheaper than attempting to treat a problem once it arises.\n      You will find articles below to be helpful, and you can also make\n      helpful posts to help others. <br></br><a href='http://www.catcareofvinings.com/blog/wellness-care-for-cats/' target=\"_blank\">Referenced from Cat Care</a></p>\n      <ImageGallery />\n      <Row>\n        <Col>\n          <AddNewWellnessButton />\n        </Col>\n      </Row>\n      <Form onSubmit={searchQuery} inline>\n        <Form.Group className=\"mt-3 ml-3\">\n          <Form.Control type=\"text\" placeholder=\"Search..\" onChange={(ev) => update(ev)} value={search} />\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\" className=\"h3 font-weight-bold mr-3 ml-1 mt-4\">Search</Button>\n      </Form>\n      <UpdatingArticles />\n    </div>\n  );\n}\n\nfunction state2props({wellness, session}) {\n  return { wellness, session};\n}\n\nexport default connect(state2props)(WellnessList);\n"]},"metadata":{},"sourceType":"module"}