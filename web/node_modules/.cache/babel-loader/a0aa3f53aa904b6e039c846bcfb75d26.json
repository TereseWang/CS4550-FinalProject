{"ast":null,"code":"var _jsxFileName = \"/media/psf/Home/Desktop/CS4550-FinalProject/web/src/LostFound/List.js\",\n    _s = $RefreshSig$();\n\nimport { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_lost_cats, fetch_user, fetch_forum, fetch_forums } from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ForumList({\n  forums,\n  session,\n  lostfound\n}) {\n  _s();\n\n  let history = useHistory();\n  let location = useLocation();\n\n  if (typeof lostfound == \"undefined\") {\n    fetch_lost_cats();\n  }\n\n  console.log(lostfound);\n\n  function photo_path(hash) {\n    return \"http://localhost:4000/photos/\" + hash;\n  }\n\n  function AddNewForumButton() {\n    if (session) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/forum/new\",\n        className: \"btn btn-lg font-weight-bold btn-info ml-3\",\n        children: \"New Forum\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n  function ListingArticles() {\n    let rows = forums.map(health => {\n      let body = health.body.substring(0, 280) + \" ...\";\n      const link = \"/forum/view/\" + health.id;\n      let score = health.votes.length;\n      return /*#__PURE__*/_jsxDEV(Card, {\n        fluid: true,\n        className: \"my-4\",\n        children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n          children: [score, \" \\uD83D\\uDC97\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"\",\n            children: health.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: body\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: link,\n            className: \"text-danger\",\n            children: \"Read More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-3\",\n      children: rows\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n\n  function Redirect({\n    to,\n    children\n  }) {\n    return /*#__PURE__*/_jsxDEV(Nav.Item, {\n      children: /*#__PURE__*/_jsxDEV(NavLink, {\n        to: to,\n        exact: true,\n        className: \"btn btn-lg font-weight-bold text-light btn-info\",\n        activeClassName: \"active\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n  function ImageGallery() {\n    let query = forums;\n\n    if (forums.length >= 5) {\n      query = Object.entries(forums).slice(0, 5).map(entry => entry[1]);\n    }\n\n    let rows = query.map(health => {\n      let body = health.body.substring(0, 280) + \" ...\";\n      let link = \"/forum/view/\" + health.id;\n      return /*#__PURE__*/_jsxDEV(Carousel.Item, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: photo_path(health.photo_hash),\n          width: \"100%\",\n          height: \"600px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Carousel.Caption, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: link,\n            className: \"text-info h3\",\n            children: [\"Direct To Article: \", health.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(Carousel, {\n      className: \"my-3\",\n      children: rows\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"display-1\",\n      children: \"Forum\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(AddNewForumButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListingArticles, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ForumList, \"azjqGSEfmvz5+G/YRUZm7OceOpI=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = ForumList;\n\nfunction state2props({\n  forums,\n  session,\n  lostfound\n}) {\n  return {\n    forums,\n    session\n  };\n}\n\nexport default connect(state2props)(ForumList);\n\nvar _c;\n\n$RefreshReg$(_c, \"ForumList\");","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550-FinalProject/web/src/LostFound/List.js"],"names":["Button","Nav","NavRow","Row","Col","Card","Form","connect","useState","Link","useHistory","NavLink","useLocation","fetch_lost_cats","fetch_user","fetch_forum","fetch_forums","Carousel","ForumList","forums","session","lostfound","history","location","console","log","photo_path","hash","AddNewForumButton","ListingArticles","rows","map","health","body","substring","link","id","score","votes","length","title","Redirect","to","children","ImageGallery","query","Object","entries","slice","entry","photo_hash","state2props"],"mappings":"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","sourcesContent":["import { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_lost_cats, fetch_user, fetch_forum, fetch_forums } from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\n\nfunction ForumList ({forums, session, lostfound}) {\n  let history = useHistory()\n  let location = useLocation();\n  if (typeof(lostfound) == \"undefined\") {\n    fetch_lost_cats()\n  }\n  console.log(lostfound)\n  function photo_path(hash) {\n    return \"http://localhost:4000/photos/\" + hash;\n  }\n\n  function AddNewForumButton() {\n    if (session) {\n      return(\n        <Redirect to=\"/forum/new\" className=\"btn btn-lg font-weight-bold btn-info ml-3\">\n          New Forum\n        </Redirect>\n      )\n    }\n    else {\n      return(\n        <br></br>\n      )\n    }\n  }\n\n  function ListingArticles() {\n    let rows = forums.map((health) => {\n      let body = health.body.substring(0, 280) + \" ...\"\n      const link = \"/forum/view/\"+ health.id\n      let score = health.votes.length\n      return (\n        <Card fluid className=\"my-4\">\n          <Card.Header>{score} ðŸ’—</Card.Header>\n          <Card.Body>\n            <h1 className=\"\">{health.title}</h1>\n            <p>{body}</p>\n            <Link to={link}  className=\"text-danger\">Read More</Link>\n          </Card.Body>\n        </Card>\n    )});\n\n    return(\n      <div className=\"ml-3\">\n        {rows}\n      </div>\n    )\n  }\n\n  function Redirect({to, children}) {\n    return (\n      <Nav.Item>\n        <NavLink to={to} exact\n          className=\"btn btn-lg font-weight-bold text-light btn-info\"\n          activeClassName=\"active\">\n          {children}\n        </NavLink>\n      </Nav.Item>\n    );\n  }\n\n  function ImageGallery() {\n    let query = forums\n    if (forums.length >= 5) {\n      query = Object.entries(forums).slice(0,5).map(entry => entry[1]);\n    }\n    let rows = query.map((health) => {\n      let body = health.body.substring(0, 280) + \" ...\"\n      let link = \"/forum/view/\" + health.id;\n      return (\n        <Carousel.Item>\n          <img src={photo_path(health.photo_hash)} width=\"100%\" height=\"600px\"></img>\n          <Carousel.Caption>\n            <Link to={link}  className=\"text-info h3\">Direct To Article: {health.title}</Link>\n          </Carousel.Caption>\n        </Carousel.Item>\n    )});\n    return(\n      <Carousel className=\"my-3\">\n        {rows}\n      </Carousel>\n    )\n  }\n\n  return (\n    <div>\n      <p className=\"display-1\">Forum</p>\n      <ImageGallery />\n      <Row>\n        <Col>\n          <AddNewForumButton />\n        </Col>\n      </Row>\n      <ListingArticles />\n    </div>\n  );\n}\n\nfunction state2props({forums, session, lostfound}) {\n  return { forums, session};\n}\n\nexport default connect(state2props)(ForumList);\n"]},"metadata":{},"sourceType":"module"}