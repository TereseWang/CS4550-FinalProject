{"ast":null,"code":"import _slicedToArray from\"/media/psf/Home/Desktop/CS4550-FinalProject/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Nav,Navbar,Row,Col,Form,Button,Container,Alert}from'react-bootstrap';import{NavLink}from'react-router-dom';import{connect}from'react-redux';import{useState}from'react';import{api_login,fetch_user}from'./api';import{useHistory}from'react-router-dom';//referenced from lecture code Nav file from Nat Tuck CS4550 Northeastern University\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function photo_path(hash){return\"http://kittenlover-backend.teresewang.com/photos/\"+hash;}function LoginForm(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];function on_submit(ev){ev.preventDefault();api_login(email,pass);}return/*#__PURE__*/_jsxs(Form,{onSubmit:on_submit,inline:true,children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h5 font-weight-bold text-dark\",children:\"Email:\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"email\",type:\"text\",onChange:function onChange(ev){return setName(ev.target.value);},value:email})]})}),/*#__PURE__*/_jsx(Row,{className:\"ml-2 my-2\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"h5 font-weight-bold text-dark\",children:\"Password:\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"password\",type:\"password\",onChange:function onChange(ev){return setPass(ev.target.value);},value:pass}),/*#__PURE__*/_jsx(Button,{className:\"h3 font-weight-bold ml-2 mr-2\",type:\"submit\",children:\"Logins \"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/users/new\",children:\"Register\"})})]});}var SessionInfo=connect()(function(_ref){var session=_ref.session,current_user=_ref.current_user,dispatch=_ref.dispatch;var history=useHistory();function logout(){dispatch({type:'session/clear'});}var link=\"/users/view/\"+session.user_id;return/*#__PURE__*/_jsxs(Row,{className:\"h4 ml-1 font-weight-bold\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo_path(session.photo_hash),className:\"mr-2\",width:\"50px\",height:\"50px\"}),/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:session.name}),/*#__PURE__*/_jsx(Button,{className:\"btn-danger h3 ml-2 font-weight-bold\",onClick:logout,children:\"Logout\"}),/*#__PURE__*/_jsx(Redirect,{to:link,children:\"View Profile\"})]});});function LOI(_ref2){var session=_ref2.session,current_user=_ref2.current_user;if(session){return/*#__PURE__*/_jsx(SessionInfo,{session:session,current_user:current_user});}else{return/*#__PURE__*/_jsx(LoginForm,{});}}var LoginOrInfo=connect(function(_ref3){var session=_ref3.session,current_user=_ref3.current_user;return{session:session,current_user:current_user};})(LOI);function Link(_ref4){var to=_ref4.to,children=_ref4.children;return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:to,exact:true,className:\"nav-link font-weight-bold text-dark\",activeClassName:\"active\",children:children})});}function Redirect(_ref5){var to=_ref5.to,children=_ref5.children;return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:to,exact:true,className:\"btn font-weight-bold text-primary ml-2\",activeClassName:\"active\",children:children})});}function AppNav(_ref6){var error=_ref6.error;var error_row=null;if(error){error_row=/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error})})});}function Register(_ref7){var session=_ref7.session;return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Nav,{variant:\"tabs\",defaultActiveKey:\"/users/new\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"HomePage\"}),/*#__PURE__*/_jsx(Link,{to:\"/wellness/list\",children:\"Wellness\"}),/*#__PURE__*/_jsx(Link,{to:\"/food/list\",children:\"Food Choices\"}),/*#__PURE__*/_jsx(Link,{to:\"/adopt\",children:\"Adopt\"}),/*#__PURE__*/_jsx(Link,{to:\"/forum/list\",children:\"Forum\"})]})});}var LoginInRegister=connect(function(_ref8){var session=_ref8.session;return{session:session};})(Register);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-weight-bold text-info display-2\",children:\"Kitten Lover\"}),/*#__PURE__*/_jsx(LoginOrInfo,{}),error_row,/*#__PURE__*/_jsx(LoginInRegister,{})]});}export default connect(function(_ref9){var error=_ref9.error;return{error:error};})(AppNav);","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550-FinalProject/web/src/Nav.js"],"names":["Nav","Navbar","Row","Col","Form","Button","Container","Alert","NavLink","connect","useState","api_login","fetch_user","useHistory","photo_path","hash","LoginForm","history","email","setName","pass","setPass","on_submit","ev","preventDefault","target","value","SessionInfo","session","current_user","dispatch","logout","type","link","user_id","photo_hash","name","LOI","LoginOrInfo","Link","to","children","Redirect","AppNav","error","error_row","Register","LoginInRegister"],"mappings":"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","sourcesContent":["import { Nav, Navbar, Row, Col, Form, Button ,Container, Alert } from 'react-bootstrap';\nimport { NavLink } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { api_login, fetch_user } from './api';\nimport { useHistory } from 'react-router-dom';\n\n//referenced from lecture code Nav file from Nat Tuck CS4550 Northeastern University\nfunction photo_path(hash) {\n  return \"http://kittenlover-backend.teresewang.com/photos/\" + hash;\n}\n\nfunction LoginForm() {\n  let history = useHistory();\n  const [email, setName] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n\n  function on_submit(ev) {\n    ev.preventDefault();\n    api_login(email, pass);\n  }\n\n  return (\n    <Form onSubmit={on_submit} inline>\n      <Row>\n        <Col>\n          <div className=\"h5 font-weight-bold text-dark\">Email:</div>\n          <Form.Control name=\"email\"\n                        type=\"text\"\n                        onChange={(ev) => setName(ev.target.value)}\n                        value={email}/>\n        </Col>\n      </Row>\n      <Row className=\"ml-2 my-2\">\n        <Col>\n          <div className=\"h5 font-weight-bold text-dark\">Password:</div>\n          <Form.Control name=\"password\"\n                        type=\"password\"\n                        onChange={(ev) => setPass(ev.target.value)}\n                        value={pass}/>\n          <Button className=\"h3 font-weight-bold ml-2 mr-2\" type=\"submit\">Logins </Button>\n        </Col>\n      </Row>\n      <div className=\"mt-4\">\n        <Redirect to=\"/users/new\">Register</Redirect>\n      </div>\n    </Form>\n  );\n}\n\nlet SessionInfo = connect()(({session, current_user,  dispatch}) => {\n  let history = useHistory();\n  function logout() {\n    dispatch({type: 'session/clear'});\n  }\n  let link = \"/users/view/\" + session.user_id\n  return (\n      <Row className=\"h4 ml-1 font-weight-bold\">\n        <img src={photo_path(session.photo_hash)} className=\"mr-2\" width=\"50px\" height=\"50px\"></img>\n        <div className=\"my-2\">{session.name}</div>\n        <Button className=\"btn-danger h3 ml-2 font-weight-bold\" onClick={logout}>Logout</Button>\n        <Redirect to={link}>View Profile</Redirect>\n      </Row>\n  );\n});\n\nfunction LOI({session, current_user}) {\n  if (session) {\n    return <SessionInfo session={session} current_user={current_user} />;\n  }\n  else {\n    return <LoginForm />;\n  }\n}\n\nconst LoginOrInfo = connect(\n  ({session, current_user}) => ({session, current_user}))(LOI);\n\nfunction Link({to, children}) {\n  return (\n    <Nav.Item>\n      <NavLink to={to} exact\n        className=\"nav-link font-weight-bold text-dark\"\n        activeClassName=\"active\">\n        {children}\n      </NavLink>\n    </Nav.Item>\n  );\n}\n\nfunction Redirect({to, children}) {\n  return (\n    <Nav.Item>\n      <NavLink to={to} exact\n        className=\"btn font-weight-bold text-primary ml-2\"\n        activeClassName=\"active\">\n        {children}\n      </NavLink>\n    </Nav.Item>\n  );\n}\n\nfunction AppNav({error}) {\n  let error_row = null;\n\n  if (error) {\n    error_row = (\n      <Row>\n        <Col>\n          <Alert variant=\"danger\">{error}</Alert>\n        </Col>\n      </Row>\n    );\n  }\n  function Register({session}) {\n      return(\n        <Row>\n          <Nav variant=\"tabs\" defaultActiveKey=\"/users/new\">\n            <Link to=\"/\">HomePage</Link>\n            <Link to=\"/wellness/list\">Wellness</Link>\n            <Link to=\"/food/list\">Food Choices</Link>\n            <Link to=\"/adopt\">Adopt</Link>\n            <Link to=\"/forum/list\">Forum</Link>\n          </Nav>\n      </Row>\n    )\n  }\n\n  const LoginInRegister = connect(\n    ({session}) => ({session}))(Register);\n\n  return(\n    <div>\n      <h1 className=\"font-weight-bold text-info display-2\">Kitten Lover</h1>\n      <LoginOrInfo />\n      { error_row }\n      <LoginInRegister/>\n    </div>\n  );\n}\nexport default connect(({error}) => ({error}))(AppNav);\n"]},"metadata":{},"sourceType":"module"}