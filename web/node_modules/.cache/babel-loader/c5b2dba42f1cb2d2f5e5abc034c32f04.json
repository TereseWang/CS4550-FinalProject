{"ast":null,"code":"import _regeneratorRuntime from\"/media/psf/Home/Desktop/CS4550-FinalProject/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/media/psf/Home/Desktop/CS4550-FinalProject/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/media/psf/Home/Desktop/CS4550-FinalProject/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import store from'./store';//referenced from lecture code SPA Structure from Nat Tuck CS4550 Northeastern University\nfunction api_get(_x){return _api_get.apply(this,arguments);}function _api_get(){_api_get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(path){var text,resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1\"+path,{});case 2:text=_context.sent;_context.next=5;return text.json();case 5:resp=_context.sent;return _context.abrupt(\"return\",resp.data);case 7:case\"end\":return _context.stop();}}},_callee);}));return _api_get.apply(this,arguments);}function api_post(_x2,_x3){return _api_post.apply(this,arguments);}//--------------------------Lost Found Kitten------------------\nfunction _api_post(){_api_post=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(path,data){var opts,text;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:opts={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(data)};_context2.next=3;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1\"+path,opts);case 3:text=_context2.sent;_context2.next=6;return text.json();case 6:return _context2.abrupt(\"return\",_context2.sent);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _api_post.apply(this,arguments);}export function fetch_adoption(_x4){return _fetch_adoption.apply(this,arguments);}//------------------------Food List----------------------------\nfunction _fetch_adoption(){_fetch_adoption=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(int){var key,secret,resp,token,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:key=\"e21rW5xeIrGdp49R2CdfcyuCoDdv9Kg6qWO6ZYO2dzwdasv2Ux\";secret=\"ljjE8EWpWS9SD1JTfSIPXLFKlXEDVbVHC2Hzf7rF\";_context3.next=4;return fetch('https://api.petfinder.com/v2/oauth2/token',{method:'POST',body:'grant_type=client_credentials&client_id='+key+'&client_secret='+secret,headers:{'Content-Type':'application/x-www-form-urlencoded'}});case 4:resp=_context3.sent;_context3.next=7;return resp.json();case 7:token=_context3.sent;_context3.next=10;return fetch(\"https://api.petfinder.com/v2/animals?type=cat&page=\"+int,{headers:{'Authorization':token.token_type+' '+token.access_token,'Content-Type':'application/x-www-form-urlencoded'}});case 10:resp=_context3.sent;_context3.next=13;return resp.json();case 13:data=_context3.sent;store.dispatch({type:\"adoption/set\",data:data.animals});case 15:case\"end\":return _context3.stop();}}},_callee3);}));return _fetch_adoption.apply(this,arguments);}export function fetch_foods(){api_get(\"/foods\").then(function(data){data=sortFood(data);store.dispatch({type:'foods/set',data:data});});}export function fetch_food(id){api_get(\"/foods/\"+id).then(function(data){return store.dispatch({type:'food_form/set',data:data});});}export function create_food(_x5){return _create_food.apply(this,arguments);}function _create_food(){_create_food=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(food){var data,resp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:data=new FormData();data.append(\"food[user_id]\",food.user_id);data.append(\"food[like]\",JSON.stringify([]));data.append(\"food[dislike]\",JSON.stringify([]));data.append(\"food[type]\",food.type);data.append(\"food[body]\",food.body);data.append(\"food[brand]\",food.brand);data.append(\"food[price]\",food.price);if(food.photo===\"undefined\"){food[\"photo\"]=\"\";}data.append(\"food[photo]\",food.photo);_context4.next=12;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods\",{method:\"POST\",body:data});case 12:resp=_context4.sent;_context4.next=15;return resp.json();case 15:return _context4.abrupt(\"return\",_context4.sent);case 16:case\"end\":return _context4.stop();}}},_callee4);}));return _create_food.apply(this,arguments);}export function update_food(_x6){return _update_food.apply(this,arguments);}function _update_food(){_update_food=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(food){var data,resp;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:data=new FormData();data.append(\"food[user_id]\",food.user_id);data.append(\"food[like]\",JSON.stringify([]));data.append(\"food[dislike]\",JSON.stringify([]));data.append(\"food[type]\",food.type);data.append(\"food[body]\",food.body);data.append(\"food[brand]\",food.brand);data.append(\"food[price]\",food.price);data.append(\"food[photo]\",food.photo);_context5.next=11;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods/\"+food.id,{method:\"PATCH\",body:data});case 11:resp=_context5.sent;_context5.next=14;return resp.json();case 14:return _context5.abrupt(\"return\",_context5.sent);case 15:case\"end\":return _context5.stop();}}},_callee5);}));return _update_food.apply(this,arguments);}export function delete_food(_x7){return _delete_food.apply(this,arguments);}function _delete_food(){_delete_food=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:data=new FormData();data.append(\"id\",id);fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods/\"+id,{method:'DELETE',body:data}).then(function(resp){if(!resp.ok){var action={type:'error/set',data:'Unable to delete event.'};store.dispatch(action);}else{fetch_foods();}});case 3:case\"end\":return _context6.stop();}}},_callee6);}));return _delete_food.apply(this,arguments);}function sortFood(data){return data.sort(function(a,b){return b.like.length-a.like.length;});}export function update_food_vote(_x8,_x9,_x10){return _update_food_vote.apply(this,arguments);}function _update_food_vote(){_update_food_vote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(food,user_id,action){var data,likes,dislikes,resp;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:data=new FormData();data.append(\"food[user_id]\",food.user_id);data.append(\"food[type]\",food.type);data.append(\"food[body]\",food.body);data.append(\"food[brand]\",food.brand);data.append(\"food[price]\",food.price);data.append(\"food[photo]\",food.photo);data.append(\"food[like]\",JSON.stringify([]));data.append(\"food[dislike]\",JSON.stringify([]));likes=food.like;dislikes=food.dislike;if(action==\"decreaselike\"){likes=likes.filter(function(e){return e!=user_id;});}else if(action==\"decreasedislike\"){dislikes=dislikes.filter(function(e){return e!=user_id;});}else if(action==\"increaselike\"){likes.push(user_id);dislikes=dislikes.filter(function(e){return e!=user_id;});}else{dislikes.push(user_id);likes=likes.filter(function(e){return e!=user_id;});}data.append(\"food[like]\",JSON.stringify(likes));data.append(\"food[dislike]\",JSON.stringify(dislikes));if(food.photo===\"undefined\"){food[\"photo\"]=\"\";}data.append(\"food[photo]\",food.photo);_context7.next=18;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods/\"+food.id,{method:\"PATCH\",body:data});case 18:resp=_context7.sent;_context7.next=21;return resp.json();case 21:return _context7.abrupt(\"return\",_context7.sent);case 22:case\"end\":return _context7.stop();}}},_callee7);}));return _update_food_vote.apply(this,arguments);}export function fetch_food_like(id){api_get(\"/foods/\"+id).then(function(data){store.dispatch({type:'food_like/set',data:data.like.length});});}export function fetch_food_dislike(id){api_get(\"/foods/\"+id).then(function(data){store.dispatch({type:'food_dislike/set',data:data.dislike.length});});}//-----------------------Forum----------------------------------\nexport function fetch_forums(){api_get(\"/forums\").then(function(data){data=sortForum(data);store.dispatch({type:'forums/set',data:data});});}export function fetch_forum(id){api_get(\"/forums/\"+id).then(function(data){return store.dispatch({type:'forum_form/set',data:data});});}export function create_forum(_x11){return _create_forum.apply(this,arguments);}function _create_forum(){_create_forum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(post){var data,resp;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:data=new FormData();data.append(\"forum[user_id]\",post.user_id);data.append(\"forum[title]\",post.title);data.append(\"forum[body]\",post.body);data.append(\"forum[votes]\",JSON.stringify([]));if(post.photo===\"undefined\"){post[\"photo\"]=\"\";}data.append(\"forum[photo]\",post.photo);_context8.next=9;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums\",{method:\"POST\",body:data});case 9:resp=_context8.sent;_context8.next=12;return resp.json();case 12:return _context8.abrupt(\"return\",_context8.sent);case 13:case\"end\":return _context8.stop();}}},_callee8);}));return _create_forum.apply(this,arguments);}export function update_forum(_x12){return _update_forum.apply(this,arguments);}function _update_forum(){_update_forum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(post){var data,resp;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:data=new FormData();data.append(\"forum[user_id]\",post.user_id);data.append(\"forum[title]\",post.title);data.append(\"forum[body]\",post.body);data.append(\"forum[photo]\",post.photo);_context9.next=7;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums/\"+post.id,{method:\"PATCH\",body:data});case 7:resp=_context9.sent;_context9.next=10;return resp.json();case 10:return _context9.abrupt(\"return\",_context9.sent);case 11:case\"end\":return _context9.stop();}}},_callee9);}));return _update_forum.apply(this,arguments);}export function delete_forum(_x13){return _delete_forum.apply(this,arguments);}function _delete_forum(){_delete_forum=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(id){var data;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:data=new FormData();data.append(\"id\",id);fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums/\"+id,{method:'DELETE',body:data}).then(function(resp){if(!resp.ok){var action={type:'error/set',data:'Unable to delete event.'};store.dispatch(action);}else{fetch_forums();}});case 3:case\"end\":return _context10.stop();}}},_callee10);}));return _delete_forum.apply(this,arguments);}export function update_forum_vote(_x14,_x15,_x16){return _update_forum_vote.apply(this,arguments);}function _update_forum_vote(){_update_forum_vote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(post,user_id,action){var data,votes,resp;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:data=new FormData();data.append(\"forum[user_id]\",post.user_id);data.append(\"forum[title]\",post.title);data.append(\"forum[body]\",post.body);votes=post.votes;if(action==\"increase\"){votes.push(user_id);}else{votes=votes.filter(function(e){return e!=user_id;});}data.append(\"forum[votes]\",JSON.stringify(votes));if(post.photo===\"undefined\"){post[\"photo\"]=\"\";}data.append(\"forum[photo]\",post.photo);_context11.next=11;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums/\"+post.id,{method:\"PATCH\",body:data});case 11:resp=_context11.sent;_context11.next=14;return resp.json();case 14:return _context11.abrupt(\"return\",_context11.sent);case 15:case\"end\":return _context11.stop();}}},_callee11);}));return _update_forum_vote.apply(this,arguments);}export function fetch_forum_score(id){api_get(\"/forums/\"+id).then(function(data){store.dispatch({type:'forum_score/set',data:data.votes.length});});}function sortForum(data){return data.sort(function(a,b){return b.votes.length-a.votes.length;});}//----------------------Wellness Comments -----------------------\nexport function fetch_comments(health_id){api_get(\"/comments\").then(function(data){var result=[];for(var _i=0,_Object$entries=Object.entries(data);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i],2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(value.health_id==health_id){result.push(value);}}store.dispatch({type:'comments/set',data:result});});}export function create_comment(_x17,_x18,_x19){return _create_comment.apply(this,arguments);}function _create_comment(){_create_comment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(comment,user_id,wellness_id){var data,resp;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:data=new FormData();data.append(\"comment[body]\",comment);data.append(\"comment[health_id]\",wellness_id);data.append(\"comment[user_id]\",user_id);_context12.next=6;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/comments\",{method:\"POST\",body:data});case 6:resp=_context12.sent;_context12.next=9;return resp.json();case 9:return _context12.abrupt(\"return\",_context12.sent);case 10:case\"end\":return _context12.stop();}}},_callee12);}));return _create_comment.apply(this,arguments);}export function delete_comment(_x20,_x21){return _delete_comment.apply(this,arguments);}//--------------------------Forum Comment -----------------------\nfunction _delete_comment(){_delete_comment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(id,wellness_id){var data;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:data=new FormData();data.append(\"id\",id);fetch(\"http://kittenlover-backend.teresewang.com/api/v1/comments/\"+id,{method:'DELETE',body:data}).then(function(resp){if(!resp.ok){var action={type:'error/set',data:'Unable to delete event.'};store.dispatch(action);}else{console.log(wellness_id);fetch_comments(wellness_id);fetch_wellness();}});case 3:case\"end\":return _context13.stop();}}},_callee13);}));return _delete_comment.apply(this,arguments);}export function fetch_forumcomments(forum_id){api_get(\"/forumcomments\").then(function(data){var result=[];for(var _i2=0,_Object$entries2=Object.entries(data);_i2<_Object$entries2.length;_i2++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i2],2),key=_Object$entries2$_i[0],value=_Object$entries2$_i[1];console.log(value);console.log(forum_id);if(value.forum_id==forum_id){result.push(value);}}store.dispatch({type:'forumcomments/set',data:result});});}export function create_forumcomment(_x22,_x23,_x24){return _create_forumcomment.apply(this,arguments);}function _create_forumcomment(){_create_forumcomment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(forumcomment,user_id,forum_id){var data,resp;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:data=new FormData();data.append(\"forumcomment[body]\",forumcomment);data.append(\"forumcomment[forum_id]\",forum_id);data.append(\"forumcomment[user_id]\",user_id);_context14.next=6;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forumcomments\",{method:\"POST\",body:data});case 6:resp=_context14.sent;_context14.next=9;return resp.json();case 9:return _context14.abrupt(\"return\",_context14.sent);case 10:case\"end\":return _context14.stop();}}},_callee14);}));return _create_forumcomment.apply(this,arguments);}export function delete_forumcomment(_x25,_x26){return _delete_forumcomment.apply(this,arguments);}//---------------------user--------------------------------------\nfunction _delete_forumcomment(){_delete_forumcomment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(id,forum_id){var data;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:data=new FormData();data.append(\"id\",id);fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forumcomments/\"+id,{method:'DELETE',body:data}).then(function(resp){if(!resp.ok){var action={type:'error/set',data:'Unable to delete event.'};store.dispatch(action);}else{console.log(forum_id);fetch_forumcomments(forum_id);fetch_forums();}});case 3:case\"end\":return _context15.stop();}}},_callee15);}));return _delete_forumcomment.apply(this,arguments);}export function fetch_users(){api_get(\"/users\").then(function(data){return store.dispatch({type:'users/set',data:data});});}export function fetch_user(id){api_get(\"/users/\"+id).then(function(data){return store.dispatch({type:'user_form/set',data:data});});}export function create_user(_x27){return _create_user.apply(this,arguments);}function _create_user(){_create_user=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(user){var data,resp;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:data=new FormData();data.append(\"user[name]\",user.name);data.append(\"user[email]\",user.email);data.append(\"user[password]\",user.password);data.append(\"user[reason]\",user.reason);if(user.photo===\"undefined\"){user[\"photo\"]=\"\";}data.append(\"user[photo]\",user.photo);_context16.next=9;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/users\",{method:\"POST\",body:data});case 9:resp=_context16.sent;_context16.next=12;return resp.json();case 12:return _context16.abrupt(\"return\",_context16.sent);case 13:case\"end\":return _context16.stop();}}},_callee16);}));return _create_user.apply(this,arguments);}export function update_user(_x28){return _update_user.apply(this,arguments);}//---------------------wellness page-----------------------------------\nfunction _update_user(){_update_user=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(user){var data,resp;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:data=new FormData();data.append(\"user_id\",user.id);data.append(\"user[name]\",user.name);data.append(\"user[email]\",user.email);data.append(\"user[password]\",user.password);data.append(\"user[reason]\",user.reason);data.append(\"user[photo]\",user.photo);_context17.next=9;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/users/\"+user.id,{method:\"PATCH\",body:data});case 9:resp=_context17.sent;_context17.next=12;return resp.json();case 12:return _context17.abrupt(\"return\",_context17.sent);case 13:case\"end\":return _context17.stop();}}},_callee17);}));return _update_user.apply(this,arguments);}export function fetch_wellness(){api_get(\"/healths\").then(function(data){data=sortWellness(data);store.dispatch({type:'wellness/set',data:data});});}export function fetch_single_wellness(id){api_get(\"/healths/\"+id).then(function(data){return store.dispatch({type:'wellness_form/set',data:data});});}export function create_wellness(_x29){return _create_wellness.apply(this,arguments);}function _create_wellness(){_create_wellness=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(post){var data,resp;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:data=new FormData();data.append(\"health[user_id]\",post.user_id);data.append(\"health[title]\",post.title);data.append(\"health[body]\",post.body);data.append(\"health[votes]\",JSON.stringify([]));if(post.photo===\"undefined\"){post[\"photo\"]=\"\";}data.append(\"health[photo]\",post.photo);_context18.next=9;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths\",{method:\"POST\",body:data});case 9:resp=_context18.sent;_context18.next=12;return resp.json();case 12:return _context18.abrupt(\"return\",_context18.sent);case 13:case\"end\":return _context18.stop();}}},_callee18);}));return _create_wellness.apply(this,arguments);}export function update_wellness(_x30){return _update_wellness.apply(this,arguments);}function _update_wellness(){_update_wellness=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(post){var data,resp;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:data=new FormData();data.append(\"health[user_id]\",post.user_id);data.append(\"health[title]\",post.title);data.append(\"health[body]\",post.body);data.append(\"health[photo]\",post.photo);_context19.next=7;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths/\"+post.id,{method:\"PATCH\",body:data});case 7:resp=_context19.sent;_context19.next=10;return resp.json();case 10:return _context19.abrupt(\"return\",_context19.sent);case 11:case\"end\":return _context19.stop();}}},_callee19);}));return _update_wellness.apply(this,arguments);}export function delete_wellness(_x31){return _delete_wellness.apply(this,arguments);}function _delete_wellness(){_delete_wellness=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(id){var data;return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:data=new FormData();data.append(\"id\",id);fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths/\"+id,{method:'DELETE',body:data}).then(function(resp){if(!resp.ok){var action={type:'error/set',data:'Unable to delete event.'};store.dispatch(action);}else{fetch_wellness();}});case 3:case\"end\":return _context20.stop();}}},_callee20);}));return _delete_wellness.apply(this,arguments);}export function update_wellness_vote(_x32,_x33,_x34){return _update_wellness_vote.apply(this,arguments);}function _update_wellness_vote(){_update_wellness_vote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(post,user_id,action){var data,votes,resp;return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:data=new FormData();data.append(\"health[user_id]\",post.user_id);data.append(\"health[title]\",post.title);data.append(\"health[body]\",post.body);votes=post.votes;if(action==\"increase\"){votes.push(user_id);}else{votes=votes.filter(function(e){return e!=user_id;});}data.append(\"health[votes]\",JSON.stringify(votes));if(post.photo===\"undefined\"){post[\"photo\"]=\"\";}data.append(\"health[photo]\",post.photo);_context21.next=11;return fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths/\"+post.id,{method:\"PATCH\",body:data});case 11:resp=_context21.sent;_context21.next=14;return resp.json();case 14:return _context21.abrupt(\"return\",_context21.sent);case 15:case\"end\":return _context21.stop();}}},_callee21);}));return _update_wellness_vote.apply(this,arguments);}export function fetch_score(id){api_get(\"/healths/\"+id).then(function(data){store.dispatch({type:'score/set',data:data.votes.length});});}export function search_wellness(search){api_get(\"/healths\").then(function(data){data=sortWellness(data);data=handle_wellness_search(search,data);store.dispatch({type:'wellness/set',data:data});});}function handle_wellness_search(search,data){if(search==\"\"){data=sortWellness(data);return data;}else{var result=[];for(var _i3=0,_Object$entries3=Object.entries(data);_i3<_Object$entries3.length;_i3++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i3],2),key=_Object$entries3$_i[0],value=_Object$entries3$_i[1];if(value.title.includes(search)||value.body.includes(search)){result.push(value);}}result=sortWellness(result);return result;}}function sortWellness(data){return data.sort(function(a,b){return b.votes.length-a.votes.length;});}export function fetch_catbreeds(){return _fetch_catbreeds.apply(this,arguments);}//---------------------------login------------------------------------\nfunction _fetch_catbreeds(){_fetch_catbreeds=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(){var text,resp,action;return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return fetch(\"https://api.thecatapi.com/v1/breeds\",{});case 2:text=_context22.sent;_context22.next=5;return text.json();case 5:resp=_context22.sent;action={type:'cat_breed/set',data:resp};store.dispatch(action);case 8:case\"end\":return _context22.stop();}}},_callee22);}));return _fetch_catbreeds.apply(this,arguments);}export function api_login(email,password){api_post(\"/session\",{email:email,password:password}).then(function(data){if(data.session){var action={type:'session/set',data:data.session};store.dispatch(action);}else if(data.error){var _action={type:'error/set',data:data.error};store.dispatch(_action);}});}export function fetch_reason(reason){switch(reason){case\"Cat Wellness\":return\"/wellness/list\";break;case\"Breeder/Adoption\":return\"/selladopt\";break;case\"Lost/Found Cats\":return\"/lostfound\";break;case\"Food Choices/Recommendations\":return\"/food\";break;case\"Other\":return\"/forum\";break;default:return\"/\";}}export function load_defaults(){fetch_users();fetch_wellness();fetch_forums();fetch_foods();fetch_catbreeds();fetch_adoption(1);}","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550-FinalProject/web/src/api.js"],"names":["store","api_get","path","fetch","text","json","resp","data","api_post","opts","method","headers","body","JSON","stringify","fetch_adoption","int","key","secret","token","token_type","access_token","dispatch","type","animals","fetch_foods","then","sortFood","fetch_food","id","create_food","food","FormData","append","user_id","brand","price","photo","update_food","delete_food","ok","action","sort","a","b","like","length","update_food_vote","likes","dislikes","dislike","filter","e","push","fetch_food_like","fetch_food_dislike","fetch_forums","sortForum","fetch_forum","create_forum","post","title","update_forum","delete_forum","update_forum_vote","votes","fetch_forum_score","fetch_comments","health_id","result","Object","entries","value","create_comment","comment","wellness_id","delete_comment","console","log","fetch_wellness","fetch_forumcomments","forum_id","create_forumcomment","forumcomment","delete_forumcomment","fetch_users","fetch_user","create_user","user","name","email","password","reason","update_user","sortWellness","fetch_single_wellness","create_wellness","update_wellness","delete_wellness","update_wellness_vote","fetch_score","search_wellness","search","handle_wellness_search","includes","fetch_catbreeds","api_login","session","error","fetch_reason","load_defaults"],"mappings":"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","sourcesContent":["import store from './store';\n//referenced from lecture code SPA Structure from Nat Tuck CS4550 Northeastern University\nasync function api_get(path) {\n  let text = await fetch(\n    \"http://kittenlover-backend.teresewang.com/api/v1\" + path, {});\n  let resp = await text.json();\n  return resp.data;\n}\n\nasync function api_post(path, data) {\n  let opts = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(data),\n  };\n  let text = await fetch(\n    \"http://kittenlover-backend.teresewang.com/api/v1\" + path, opts);\n  return await text.json();\n}\n//--------------------------Lost Found Kitten------------------\nexport async function fetch_adoption(int) {\n  var key = \"e21rW5xeIrGdp49R2CdfcyuCoDdv9Kg6qWO6ZYO2dzwdasv2Ux\"\n  var secret = \"ljjE8EWpWS9SD1JTfSIPXLFKlXEDVbVHC2Hzf7rF\"\n  let resp = await fetch('https://api.petfinder.com/v2/oauth2/token', {\n\tmethod: 'POST',\n\tbody: 'grant_type=client_credentials&client_id=' + key + '&client_secret=' + secret,\n\theaders: {\n\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t}})\n  let token = await resp.json()\n  resp = await fetch(\"https://api.petfinder.com/v2/animals?type=cat&page=\" + int,{\n    headers: {\n\t\t\t'Authorization': token.token_type + ' ' + token.access_token,\n\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t}})\n  let data = await resp.json()\n  store.dispatch({\n    type: \"adoption/set\",\n    data: data.animals\n  })\n}\n\n//------------------------Food List----------------------------\nexport function fetch_foods() {\n  api_get(\"/foods\").then((data) => {\n    data = sortFood(data)\n    store.dispatch({\n    type: 'foods/set',\n    data: data,\n  })});\n}\n\nexport function fetch_food(id) {\n  api_get(\"/foods/\"+id).then((data) => store.dispatch({\n    type: 'food_form/set',\n    data: data,\n  }));\n}\n\nexport async function create_food(food) {\n  let data = new FormData();\n  data.append(\"food[user_id]\", food.user_id);\n  data.append(\"food[like]\", JSON.stringify([]))\n  data.append(\"food[dislike]\", JSON.stringify([]))\n  data.append(\"food[type]\", food.type);\n  data.append(\"food[body]\", food.body);\n  data.append(\"food[brand]\", food.brand)\n  data.append(\"food[price]\", food.price)\n  if (food.photo === \"undefined\") {\n    food[\"photo\"] = \"\";\n  }\n  data.append(\"food[photo]\", food.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods\", {\n    method: \"POST\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\n\nexport async function update_food(food) {\n  let data = new FormData();\n  data.append(\"food[user_id]\", food.user_id);\n  data.append(\"food[like]\", JSON.stringify([]))\n  data.append(\"food[dislike]\", JSON.stringify([]))\n  data.append(\"food[type]\", food.type);\n  data.append(\"food[body]\", food.body);\n  data.append(\"food[brand]\", food.brand)\n  data.append(\"food[price]\", food.price)\n  data.append(\"food[photo]\", food.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods/\" + food.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport async function delete_food(id) {\n  let data = new FormData();\n  data.append(\"id\", id);\n  fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods/\" + id, {\n    method: 'DELETE',\n    body: data,\n  }).then((resp) => {\n    if(!resp.ok){\n      let action = {\n        type: 'error/set',\n        data: 'Unable to delete event.',\n      };\n      store.dispatch(action);\n    }else {\n      fetch_foods();\n    }\n  });\n}\n\nfunction sortFood(data) {\n  return data.sort(function(a, b){\n    return b.like.length - a.like.length});\n}\n\nexport async function update_food_vote(food, user_id, action) {\n  let data = new FormData();\n  data.append(\"food[user_id]\", food.user_id);\n  data.append(\"food[type]\", food.type);\n  data.append(\"food[body]\", food.body);\n  data.append(\"food[brand]\", food.brand)\n  data.append(\"food[price]\", food.price)\n  data.append(\"food[photo]\", food.photo);\n  data.append(\"food[like]\", JSON.stringify([]))\n  data.append(\"food[dislike]\", JSON.stringify([]))\n  let likes = food.like\n  let dislikes = food.dislike\n\n  if (action == \"decreaselike\") {\n    likes = likes.filter(function(e) { return e != user_id })\n  }\n  else if(action == \"decreasedislike\") {\n    dislikes = dislikes.filter(function(e) { return e != user_id })\n  }\n  else if(action == \"increaselike\") {\n    likes.push(user_id)\n    dislikes = dislikes.filter(function(e) { return e != user_id })\n  }\n  else {\n    dislikes.push(user_id)\n    likes = likes.filter(function(e) { return e != user_id })\n  }\n\n  data.append(\"food[like]\", JSON.stringify(likes))\n  data.append(\"food[dislike]\", JSON.stringify(dislikes))\n  if (food.photo === \"undefined\") {\n    food[\"photo\"] = \"\";\n  }\n  data.append(\"food[photo]\", food.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/foods/\" + food.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport function fetch_food_like(id) {\n  api_get(\"/foods/\"+id).then((data) => {\n  store.dispatch({\n    type: 'food_like/set',\n    data: data.like.length,\n  })});\n}\n\nexport function fetch_food_dislike(id) {\n  api_get(\"/foods/\"+id).then((data) => {\n  store.dispatch({\n    type: 'food_dislike/set',\n    data: data.dislike.length,\n  })});\n}\n\n//-----------------------Forum----------------------------------\nexport function fetch_forums() {\n  api_get(\"/forums\").then((data) => {\n  data = sortForum(data)\n  store.dispatch({\n    type: 'forums/set',\n    data: data,\n  })});\n}\n\nexport function fetch_forum(id) {\n  api_get(\"/forums/\"+id).then((data) => store.dispatch({\n    type: 'forum_form/set',\n    data: data,\n  }));\n}\n\nexport async function create_forum(post) {\n  let data = new FormData();\n  data.append(\"forum[user_id]\", post.user_id);\n  data.append(\"forum[title]\", post.title);\n  data.append(\"forum[body]\", post.body);\n  data.append(\"forum[votes]\", JSON.stringify([]))\n  if (post.photo === \"undefined\") {\n    post[\"photo\"] = \"\";\n  }\n  data.append(\"forum[photo]\", post.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums\", {\n    method: \"POST\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport async function update_forum(post) {\n  let data = new FormData();\n  data.append(\"forum[user_id]\", post.user_id);\n  data.append(\"forum[title]\", post.title);\n  data.append(\"forum[body]\", post.body);\n  data.append(\"forum[photo]\", post.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums/\" + post.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport async function delete_forum(id) {\n  let data = new FormData();\n  data.append(\"id\", id);\n  fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums/\" + id, {\n    method: 'DELETE',\n    body: data,\n  }).then((resp) => {\n    if(!resp.ok){\n      let action = {\n        type: 'error/set',\n        data: 'Unable to delete event.',\n      };\n      store.dispatch(action);\n    }else {\n      fetch_forums();\n    }\n  });\n}\n\nexport async function update_forum_vote(post, user_id, action) {\n  let data = new FormData();\n  data.append(\"forum[user_id]\", post.user_id);\n  data.append(\"forum[title]\", post.title);\n  data.append(\"forum[body]\", post.body);\n  let votes = post.votes\n  if (action == \"increase\") {\n    votes.push(user_id)\n  }\n  else {\n    votes = votes.filter(function(e) { return e != user_id })\n  }\n  data.append(\"forum[votes]\", JSON.stringify(votes))\n  if (post.photo === \"undefined\") {\n    post[\"photo\"] = \"\";\n  }\n  data.append(\"forum[photo]\", post.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forums/\" + post.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport function fetch_forum_score(id) {\n  api_get(\"/forums/\"+id).then((data) => {\n  store.dispatch({\n    type: 'forum_score/set',\n    data: data.votes.length,\n  })});\n}\n\nfunction sortForum(data) {\n  return data.sort(function(a, b){\n    return b.votes.length - a.votes.length});\n}\n//----------------------Wellness Comments -----------------------\nexport function fetch_comments(health_id) {\n  api_get(\"/comments\").then((data) => {\n    let result = []\n    for (let [key, value] of Object.entries(data)) {\n      if (value.health_id == health_id) {\n        result.push(value)\n      }\n    }\n    store.dispatch({\n    type: 'comments/set',\n    data: result,\n  })})\n}\n\nexport async function create_comment(comment, user_id, wellness_id) {\n  let data = new FormData();\n  data.append(\"comment[body]\", comment);\n  data.append(\"comment[health_id]\", wellness_id);\n  data.append(\"comment[user_id]\", user_id);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/comments\", {\n    method: \"POST\",\n    body: data,\n  })\n  return await resp.json();\n}\n\nexport async function delete_comment(id, wellness_id) {\n  let data = new FormData();\n  data.append(\"id\", id);\n  fetch(\"http://kittenlover-backend.teresewang.com/api/v1/comments/\" + id, {\n    method: 'DELETE',\n    body: data,\n  }).then((resp) => {\n    if(!resp.ok){\n      let action = {\n        type: 'error/set',\n        data: 'Unable to delete event.',\n      };\n      store.dispatch(action);\n    }else {\n      console.log(wellness_id)\n      fetch_comments(wellness_id);\n      fetch_wellness()\n    }\n  });\n}\n\n//--------------------------Forum Comment -----------------------\nexport function fetch_forumcomments(forum_id) {\n  api_get(\"/forumcomments\").then((data) => {\n    let result = []\n    for (let [key, value] of Object.entries(data)) {\n      console.log(value)\n      console.log(forum_id)\n      if (value.forum_id == forum_id) {\n        result.push(value)\n      }\n    }\n    store.dispatch({\n    type: 'forumcomments/set',\n    data: result,\n  })})\n}\n\nexport async function create_forumcomment(forumcomment, user_id, forum_id) {\n  let data = new FormData();\n  data.append(\"forumcomment[body]\", forumcomment);\n  data.append(\"forumcomment[forum_id]\", forum_id);\n  data.append(\"forumcomment[user_id]\", user_id);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forumcomments\", {\n    method: \"POST\",\n    body: data,\n  })\n  return await resp.json();\n}\n\nexport async function delete_forumcomment(id, forum_id) {\n  let data = new FormData();\n  data.append(\"id\", id);\n  fetch(\"http://kittenlover-backend.teresewang.com/api/v1/forumcomments/\" + id, {\n    method: 'DELETE',\n    body: data,\n  }).then((resp) => {\n    if(!resp.ok){\n      let action = {\n        type: 'error/set',\n        data: 'Unable to delete event.',\n      };\n      store.dispatch(action);\n    }else {\n      console.log(forum_id)\n      fetch_forumcomments(forum_id);\n      fetch_forums()\n    }\n  });\n}\n\n//---------------------user--------------------------------------\nexport function fetch_users() {\n    api_get(\"/users\").then((data) => store.dispatch({\n        type: 'users/set',\n        data: data,\n    }));\n}\n\nexport function fetch_user(id) {\n  api_get(\"/users/\" + id).then((data) => store.dispatch({\n      type: 'user_form/set',\n      data: data,\n  }));\n}\n\nexport async function create_user(user) {\n  let data = new FormData();\n  data.append(\"user[name]\", user.name);\n  data.append(\"user[email]\", user.email);\n  data.append(\"user[password]\", user.password);\n  data.append(\"user[reason]\", user.reason);\n  if (user.photo === \"undefined\") {\n    user[\"photo\"] = \"\";\n  }\n  data.append(\"user[photo]\", user.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/users\", {\n    method: \"POST\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport async function update_user(user) {\n  let data = new FormData();\n  data.append(\"user_id\", user.id);\n  data.append(\"user[name]\", user.name);\n  data.append(\"user[email]\", user.email);\n  data.append(\"user[password]\", user.password);\n  data.append(\"user[reason]\", user.reason);\n  data.append(\"user[photo]\", user.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/users/\" + user.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n//---------------------wellness page-----------------------------------\nexport function fetch_wellness() {\n  api_get(\"/healths\").then((data) => {\n  data = sortWellness(data)\n  store.dispatch({\n    type: 'wellness/set',\n    data: data,\n  })});\n}\n\n\nexport function fetch_single_wellness(id) {\n  api_get(\"/healths/\"+id).then((data) => store.dispatch({\n    type: 'wellness_form/set',\n    data: data,\n  }));\n}\n\nexport async function create_wellness(post) {\n  let data = new FormData();\n  data.append(\"health[user_id]\", post.user_id);\n  data.append(\"health[title]\", post.title);\n  data.append(\"health[body]\", post.body);\n  data.append(\"health[votes]\", JSON.stringify([]))\n  if (post.photo === \"undefined\") {\n    post[\"photo\"] = \"\";\n  }\n  data.append(\"health[photo]\", post.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths\", {\n    method: \"POST\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport async function update_wellness(post) {\n  let data = new FormData();\n  data.append(\"health[user_id]\", post.user_id);\n  data.append(\"health[title]\", post.title);\n  data.append(\"health[body]\", post.body);\n  data.append(\"health[photo]\", post.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths/\" + post.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport async function delete_wellness(id) {\n  let data = new FormData();\n  data.append(\"id\", id);\n  fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths/\" + id, {\n    method: 'DELETE',\n    body: data,\n  }).then((resp) => {\n    if(!resp.ok){\n      let action = {\n        type: 'error/set',\n        data: 'Unable to delete event.',\n      };\n      store.dispatch(action);\n    }else {\n      fetch_wellness();\n    }\n  });\n}\n\nexport async function update_wellness_vote(post, user_id, action) {\n  let data = new FormData();\n  data.append(\"health[user_id]\", post.user_id);\n  data.append(\"health[title]\", post.title);\n  data.append(\"health[body]\", post.body);\n  let votes = post.votes\n  if (action == \"increase\") {\n    votes.push(user_id)\n  }\n  else {\n    votes = votes.filter(function(e) { return e != user_id })\n  }\n  data.append(\"health[votes]\", JSON.stringify(votes))\n  if (post.photo === \"undefined\") {\n    post[\"photo\"] = \"\";\n  }\n  data.append(\"health[photo]\", post.photo);\n  let resp = await fetch(\"http://kittenlover-backend.teresewang.com/api/v1/healths/\" + post.id, {\n    method: \"PATCH\",\n    body: data,\n  })\nreturn await resp.json();\n}\n\nexport function fetch_score(id) {\n  api_get(\"/healths/\"+id).then((data) => {\n  store.dispatch({\n    type: 'score/set',\n    data: data.votes.length,\n  })});\n}\n\nexport function search_wellness(search) {\n  api_get(\"/healths\").then((data) => {\n  data = sortWellness(data)\n  data = handle_wellness_search(search, data)\n  store.dispatch({\n    type: 'wellness/set',\n    data: data,\n  })});\n}\n\nfunction handle_wellness_search(search, data) {\n  if (search == \"\") {\n    data = sortWellness(data)\n    return data\n  }\n  else {\n    let result = []\n    for (let [key, value] of Object.entries(data)) {\n      if (value.title.includes(search) || value.body.includes(search)) {\n        result.push(value)\n      }\n    }\n    result = sortWellness(result)\n    return result\n  }\n}\n\nfunction sortWellness(data) {\n  return data.sort(function(a, b){\n    return b.votes.length - a.votes.length});\n}\n\nexport async function fetch_catbreeds() {\n  let text = await fetch(\n    \"https://api.thecatapi.com/v1/breeds\", {});\n  let resp = await text.json();\n  let action = {\n     type: 'cat_breed/set',\n     data: resp,\n   }\n   store.dispatch(action);\n}\n\n//---------------------------login------------------------------------\nexport function api_login(email, password) {\n  api_post(\"/session\", {email, password}).then((data) => {\n    if (data.session) {\n      let action = {\n        type: 'session/set',\n        data: data.session,\n      }\n      store.dispatch(action);\n    }\n    else if (data.error) {\n     let action = {\n        type: 'error/set',\n        data: data.error,\n      }\n      store.dispatch(action);\n    }\n  });\n}\n\nexport function fetch_reason(reason) {\n  switch(reason){\n    case \"Cat Wellness\":\n      return \"/wellness/list\"\n      break;\n    case \"Breeder/Adoption\":\n      return \"/selladopt\"\n      break;\n    case \"Lost/Found Cats\":\n      return \"/lostfound\"\n      break;\n    case \"Food Choices/Recommendations\":\n      return \"/food\"\n      break;\n    case \"Other\":\n      return \"/forum\"\n      break;\n    default:\n      return \"/\"\n    }\n}\nexport function load_defaults() {\n  fetch_users();\n  fetch_wellness();\n  fetch_forums();\n  fetch_foods();\n  fetch_catbreeds();\n  fetch_adoption(1);\n}\n"]},"metadata":{},"sourceType":"module"}