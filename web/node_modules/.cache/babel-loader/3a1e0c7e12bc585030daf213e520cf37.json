{"ast":null,"code":"import _slicedToArray from\"/media/psf/Home/Desktop/CS4550-FinalProject/web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Row,Col,Form,Button}from'react-bootstrap';import{connect}from'react-redux';import{useState}from'react';import{useHistory,NavLink}from'react-router-dom';import pick from'lodash/pick';import store from'../store';import{create_food,fetch_foods,fetch_users}from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FoodNew(_ref){var session=_ref.session;var history=useHistory();var _useState=useState({user_id:session.user_id,body:\"\",brand:\"\",price:0,type:\"\"}),_useState2=_slicedToArray(_useState,2),food=_useState2[0],setFood=_useState2[1];function onSubmit(ev){ev.preventDefault();var data=pick(food,['user_id','body','type','brand',\"photo\",\"price\"]);create_food(data).then(function(data){if(data.error){var action={type:\"error/set\",data:data.error};store.dispatch(action);}else{fetch_foods();fetch_users();history.push(\"/food/list\");}});}function update(field,ev){var u1=Object.assign({},food);u1[field]=ev.target.value;setFood(u1);}function updatePhoto(ev){var p1=Object.assign({},food);p1[\"photo\"]=ev.target.files[0];setFood(p1);console.log(food);}return/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5\",children:\"Create Food Recommendation\"}),/*#__PURE__*/_jsx(Form.Label,{children:\"Product Brand\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",onChange:function onChange(ev){return update(\"brand\",ev);},value:food.brand})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Product Image\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",onChange:updatePhoto})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Product Description\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"textarea\",onChange:function onChange(ev){return update(\"body\",ev);},value:food.body})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicRange\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Product Price: \",food.price,\"$ per lbs\"]}),/*#__PURE__*/_jsx(Form.Control,{type:\"range\",onChange:function onChange(ev){return update(\"price\",ev);},value:food.price})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"exampleForm.ControlSelect1\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Product Type\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",onChange:function onChange(ev){return update(\"type\",ev);},value:food.type,children:[/*#__PURE__*/_jsx(\"option\",{}),/*#__PURE__*/_jsx(\"option\",{children:\"Kitten Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Adult Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Wet Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Dried Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Semi-moist Food\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"h3 font-weight-bold mr-3\",children:\"Save\"})]});}function state2props(_ref2){var session=_ref2.session;return{session:session};}export default connect(state2props)(FoodNew);","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550-FinalProject/web/src/Food/New.js"],"names":["Row","Col","Form","Button","connect","useState","useHistory","NavLink","pick","store","create_food","fetch_foods","fetch_users","FoodNew","session","history","user_id","body","brand","price","type","food","setFood","onSubmit","ev","preventDefault","data","then","error","action","dispatch","push","update","field","u1","Object","assign","target","value","updatePhoto","p1","files","console","log","state2props"],"mappings":"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","sourcesContent":["import { Row, Col, Form, Button} from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { useHistory, NavLink  } from 'react-router-dom';\nimport pick from 'lodash/pick';\nimport store from '../store';\nimport { create_food , fetch_foods, fetch_users } from '../api';\n\nfunction FoodNew({session}) {\n  let history = useHistory();\n  const [food, setFood] = useState({\n    user_id: session.user_id, body: \"\", brand: \"\", price:0,\n    type: \"\"\n  })\n\n  function onSubmit(ev) {\n    ev.preventDefault();\n    let data = pick(food, ['user_id', 'body', 'type', 'brand',\n    \"photo\", \"price\"]);\n    create_food(data).then((data) => {\n        if(data.error) {\n          let action={\n            type:\"error/set\",\n            data: data.error\n          }\n          store.dispatch(action)\n        }\n        else {\n          fetch_foods()\n          fetch_users()\n          history.push(\"/food/list\")\n        }\n    });\n  }\n  function update(field, ev) {\n    let u1 = Object.assign({}, food);\n    u1[field] = ev.target.value;\n    setFood(u1);\n  }\n\n  function updatePhoto(ev) {\n    let p1 = Object.assign({}, food);\n    p1[\"photo\"] = ev.target.files[0];\n    setFood(p1);\n    console.log(food)\n  }\n\n  return(\n      <Form onSubmit={onSubmit}>\n        <Form.Group>\n          <h1 className=\"mt-5\">Create Food Recommendation</h1>\n          <Form.Label>Product Brand</Form.Label>\n          <Form.Control type=\"text\"\n                        onChange={\n                          (ev) => update(\"brand\", ev)}\n            value={food.brand} />\n        </Form.Group>\n        <Form.Group>\n              <Form.Label>Product Image</Form.Label>\n              <Form.Control type=\"file\" onChange={updatePhoto} />\n        </Form.Group>\n        <Form.Group>\n          <Form.Label>Product Description</Form.Label>\n          <Form.Control type=\"textarea\"\n                        onChange={\n                          (ev) => update(\"body\", ev)}\n            value={food.body} />\n        </Form.Group>\n        <Form.Group controlId=\"formBasicRange\">\n          <Form.Label>Product Price: {food.price}$ per lbs</Form.Label>\n          <Form.Control type=\"range\" onChange={(ev) => update(\"price\", ev)} value={food.price}/>\n        </Form.Group>\n        <Form.Group controlId=\"exampleForm.ControlSelect1\">\n          <Form.Label>Product Type</Form.Label>\n          <Form.Control as=\"select\" onChange={(ev) => update(\"type\", ev)} value={food.type}>\n            <option></option>\n            <option>Kitten Food</option>\n            <option>Adult Food</option>\n            <option>Wet Food</option>\n            <option>Dried Food</option>\n            <option>Semi-moist Food</option>\n            <option>Other</option>\n          </Form.Control>\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\" className=\"h3 font-weight-bold mr-3\">\n          Save\n        </Button>\n      </Form>\n    );\n}\n\nfunction state2props({session}) {\n  return {session};\n}\n\nexport default connect(state2props)(FoodNew);\n"]},"metadata":{},"sourceType":"module"}