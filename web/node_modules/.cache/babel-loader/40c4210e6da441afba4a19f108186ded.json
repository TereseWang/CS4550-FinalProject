{"ast":null,"code":"import{Button,Nav,NavRow,Row,Col,Card,Form}from'react-bootstrap';import{connect}from'react-redux';import{useState}from'react';import{Link,useHistory,NavLink,useLocation}from'react-router-dom';import{fetch_user,fetch_forum,fetch_forums}from'../api';import Carousel from'react-bootstrap/Carousel';//referenced from lecture code SPA Structure from Nat Tuck CS4550 Northeastern University\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ForumList(_ref){var forums=_ref.forums,session=_ref.session;var history=useHistory();var location=useLocation();function photo_path(hash){return\"http://kittenlover-backend.teresewang.com/photos/\"+hash;}function AddNewForumButton(){if(session){return/*#__PURE__*/_jsx(Redirect,{to:\"/forum/new\",className:\"btn btn-lg font-weight-bold btn-info ml-3\",children:\"New Forum\"});}else{return/*#__PURE__*/_jsx(\"br\",{});}}function ListingArticles(){var rows=forums.map(function(health){var body=health.body.substring(0,280)+\" ...\";var link=\"/forum/view/\"+health.id;var score=health.votes.length;return/*#__PURE__*/_jsxs(Card,{fluid:true,className:\"my-4\",children:[/*#__PURE__*/_jsxs(Card.Header,{children:[score,\" \\uD83D\\uDC97\"]}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\",children:health.title}),/*#__PURE__*/_jsx(\"p\",{children:body}),/*#__PURE__*/_jsx(Link,{to:link,className:\"text-danger\",children:\"Read More\"})]})]});});return/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:rows});}function Redirect(_ref2){var to=_ref2.to,children=_ref2.children;return/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:to,exact:true,className:\"btn btn-lg font-weight-bold text-light btn-info\",activeClassName:\"active\",children:children})});}function ImageGallery(){var query=forums;if(forums.length>=5){query=Object.entries(forums).slice(0,5).map(function(entry){return entry[1];});}var rows=query.map(function(health){var body=health.body.substring(0,280)+\" ...\";var link=\"/forum/view/\"+health.id;return/*#__PURE__*/_jsxs(Carousel.Item,{children:[/*#__PURE__*/_jsx(\"img\",{src:photo_path(health.photo_hash),width:\"100%\",height:\"600px\"}),/*#__PURE__*/_jsx(Carousel.Caption,{children:/*#__PURE__*/_jsxs(Link,{to:link,className:\"text-info h3\",children:[\"Direct To Article: \",health.title]})})]});});return/*#__PURE__*/_jsx(Carousel,{className:\"my-3\",children:rows});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"display-1\",children:\"Forum\"}),/*#__PURE__*/_jsx(ImageGallery,{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(AddNewForumButton,{})})}),/*#__PURE__*/_jsx(ListingArticles,{})]});}function state2props(_ref3){var forums=_ref3.forums,session=_ref3.session;return{forums:forums,session:session};}export default connect(state2props)(ForumList);","map":{"version":3,"sources":["/media/psf/Home/Desktop/CS4550-FinalProject/web/src/Forum/List.js"],"names":["Button","Nav","NavRow","Row","Col","Card","Form","connect","useState","Link","useHistory","NavLink","useLocation","fetch_user","fetch_forum","fetch_forums","Carousel","ForumList","forums","session","history","location","photo_path","hash","AddNewForumButton","ListingArticles","rows","map","health","body","substring","link","id","score","votes","length","title","Redirect","to","children","ImageGallery","query","Object","entries","slice","entry","photo_hash","state2props"],"mappings":"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","sourcesContent":["import { Button, Nav, NavRow, Row, Col, Card, Form } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { useState } from 'react';\nimport { Link, useHistory, NavLink, useLocation } from 'react-router-dom';\nimport { fetch_user, fetch_forum, fetch_forums } from '../api';\nimport Carousel from 'react-bootstrap/Carousel';\n\n//referenced from lecture code SPA Structure from Nat Tuck CS4550 Northeastern University\nfunction ForumList ({forums, session}) {\n  let history = useHistory()\n  let location = useLocation();\n\n  function photo_path(hash) {\n    return \"http://kittenlover-backend.teresewang.com/photos/\" + hash;\n  }\n\n  function AddNewForumButton() {\n    if (session) {\n      return(\n        <Redirect to=\"/forum/new\" className=\"btn btn-lg font-weight-bold btn-info ml-3\">\n          New Forum\n        </Redirect>\n      )\n    }\n    else {\n      return(\n        <br></br>\n      )\n    }\n  }\n\n  function ListingArticles() {\n    let rows = forums.map((health) => {\n      let body = health.body.substring(0, 280) + \" ...\"\n      const link = \"/forum/view/\"+ health.id\n      let score = health.votes.length\n      return (\n        <Card fluid className=\"my-4\">\n          <Card.Header>{score} ðŸ’—</Card.Header>\n          <Card.Body>\n            <h1 className=\"\">{health.title}</h1>\n            <p>{body}</p>\n            <Link to={link}  className=\"text-danger\">Read More</Link>\n          </Card.Body>\n        </Card>\n    )});\n\n    return(\n      <div className=\"ml-3\">\n        {rows}\n      </div>\n    )\n  }\n\n  function Redirect({to, children}) {\n    return (\n      <Nav.Item>\n        <NavLink to={to} exact\n          className=\"btn btn-lg font-weight-bold text-light btn-info\"\n          activeClassName=\"active\">\n          {children}\n        </NavLink>\n      </Nav.Item>\n    );\n  }\n\n  function ImageGallery() {\n    let query = forums\n    if (forums.length >= 5) {\n      query = Object.entries(forums).slice(0,5).map(entry => entry[1]);\n    }\n    let rows = query.map((health) => {\n      let body = health.body.substring(0, 280) + \" ...\"\n      let link = \"/forum/view/\" + health.id;\n      return (\n        <Carousel.Item>\n          <img src={photo_path(health.photo_hash)} width=\"100%\" height=\"600px\"></img>\n          <Carousel.Caption>\n            <Link to={link}  className=\"text-info h3\">Direct To Article: {health.title}</Link>\n          </Carousel.Caption>\n        </Carousel.Item>\n    )});\n    return(\n      <Carousel className=\"my-3\">\n        {rows}\n      </Carousel>\n    )\n  }\n\n  return (\n    <div>\n      <p className=\"display-1\">Forum</p>\n      <ImageGallery />\n      <Row>\n        <Col>\n          <AddNewForumButton />\n        </Col>\n      </Row>\n      <ListingArticles />\n    </div>\n  );\n}\n\nfunction state2props({forums, session}) {\n  return { forums, session};\n}\n\nexport default connect(state2props)(ForumList);\n"]},"metadata":{},"sourceType":"module"}